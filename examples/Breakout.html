<html>
<head>
	<title>JumpyCube.io</title>
	<style type="text/css">
		body {
			padding: 0;
			margin: 0;
			background-color: white;
		}
		canvas {
			display: block;
			margin: 20px auto;
			border-style: solid;
			border-width: 1px;

		}
	</style>
	<script type="text/javascript" src="../Page.js"></script>
	<script type="text/javascript" src="../Entity.js"></script>
	<script type="text/javascript" src="../Clonehood.js"></script>
	<script type="text/javascript" src="../Input.js"></script>
	<script type="text/javascript" src="OtherClasses.js"></script>
	<script type="text/javascript">
		document.addEventListener("DOMContentLoaded", function() {
			page = new Page(document.getElementById("canvas"));
			page.canvas.width = window.innerWidth;
			page.canvas.height = window.innerHeight;
			mouse = new Mouse();
			page.add(mouse);

			paddle = new Entity(page.canvas.width/2-50, page.canvas.height-50, 100, 25);
			paddle.update = function(game) {
				this.x = mouse.x-this.width/2;
			};
			page.add(paddle);

			frame1 = new Clonehood();
			frame1.draw = function(game) {return;};
			frame1.add(new Entity(0,0,page.canvas.width, 1));
			frame1.add(new Entity(0,0,1,page.canvas.height));
			frame1.add(new Entity(0, page.canvas.height, page.canvas.width, 1));
			frame1.add(new Entity(page.canvas.width, 0, 1, page.canvas.height));
			page.add(frame1);

			ball = new Circ(page.canvas.width/2, page.canvas.height/2, 10, "blue");
			ball.angle = Math.PI + Math.PI*Math.random();
			ball.speed = 300;
			ball.update = function(game) {
				if (page.fps>0) {
					this.x += Math.cos(this.angle)*(this.speed/page.fps);
					this.y -= Math.sin(this.angle)*(this.speed/page.fps);
					if (this.isTouching(frame1) || this.isTouching(paddle)) {
						this.x -= Math.cos(this.angle)*2;
						this.y += Math.sin(this.angle)*2;
						this.angle += Math.PI/4+Math.random()*(Math.PI/8);
					}
				}
			};
			page.add(ball);

			page.add(brick1);

			page.start();
		});
	</script>
</head>
<body>
	<canvas id="canvas" height=540 width=324></canvas>
</body>
</html>
